{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Restaurante{% endblock %}</title>
   <link rel="stylesheet" href="{% static 'css/modalmenu.css' %}">
    <link rel="stylesheet" href="{% static 'css/app.css' %}">
      <link rel="stylesheet" href="{% static 'css/seccion.css' %}">
        <link rel="stylesheet" href="{% static 'css/admin-panel.css' %}">
          <link rel="stylesheet" href="{% static 'css/perfil.css' %}">
  <link rel="stylesheet" href="{% static 'css/experiencias.css' %}">


                  <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
                  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>

<header>
<button class="menu-toggle-principal" id="menuToggleprincipal">â˜°</button>

    <div class="empresa-header">
    <img id="empresaLogo" alt="Logo" />
    <h2 id="empresaNombre">Restaurante</h2>
</div>



    <nav id="mainNav">
      <a href="/">Inicio</a>
        <a href="#" onclick="abrirMenuModal()">ğŸ½ï¸ MenÃº</a>
    <a href="#sobre-nosotros">Sobre Nosotros</a>

    <a href="/experiencias/">Experiencias</a>


       
    <a onclick="abrirReservaModal()">Reservar</a>



      <a  onclick="event.preventDefault(); abrirContacto()">
  ContÃ¡ctanos
</a>

         <!-- Contenedor del usuario -->
    <div id="userMenuContainer">
        <button class="login-btn" id="loginBtn" onclick="abrirLoginModal()">Login</button>
    </div>



        <div class="cart-btn" onclick="toggleCarrito()">
            ğŸ›’
            <span class="cart-count" id="cart-count">0</span>
        </div>
        <button id="themeToggle" class="theme-btn">ğŸŒ™</button>

    </nav>
</header>

<main>
    {% block content %}{% endblock %}
</main>

<!-- CARRITO -->
<aside id="carrito">
    <div class="carrito-header">
        <h3>Tu orden</h3>
        <button class="cerrar" onclick="toggleCarrito()">Ã—</button>
    </div>

    <ul id="lista-carrito"></ul>

    <div class="carrito-footer">
        <p class="total">
            Total: $<span id="total">0</span>
        </p>

   <button onclick="abrirCheckout()">Ordenar ahora</button>


    </div>
</aside>


<!-- OVERLAY -->
<div id="overlay" onclick="toggleCarrito()"></div>






<div class="modal" id="checkoutModal">
  <div class="modal-content">
    <h3>ğŸ›’ Confirmar pedido</h3>

    <form id="checkoutForm">

      <label>Nombre</label>
      <input type="text" id="nombre" placeholder="Tu nombre" required>

      <label>TelÃ©fono</label>
      <input type="tel" id="telefono" placeholder="809-000-0000" required>

      <label>Tipo de pedido</label>
      <select id="tipoPedido" onchange="toggleDireccion()" required>
        <option value="">Selecciona una opciÃ³n</option>
        <option value="delivery">ğŸšš Delivery</option>
        <option value="retirar">ğŸª Retirar en local</option>
      </select>

      <!-- DIRECCIÃ“N -->
      <div id="direccionBox" style="display:none">
        <label>DirecciÃ³n de entrega</label>
        <textarea
          id="direccion"
          placeholder="Ej: Calle Duarte #23, Santo Domingo"
        ></textarea>
      </div>

      <p class="total">
        Total: $<span id="modal-total">0</span>
      </p>

      <div class="modal-actions">
        <button type="button" onclick="cerrarModal()">Cancelar</button>
        <button type="submit" class="btn-primary">
          Confirmar pedido
        </button>
      </div>
    </form>
  </div>
</div>




<!-- Modal Login -->
<!-- Modal Login -->
<!-- Modal Login -->
<div id="loginModal" class="modal">
  <div class="modalLogin">

    <div class="modalLogin-slider" id="authSlider">

      <!-- LOGIN -->
      <div class="auth-panel">
        <img class="empresaLogoAuth" alt="Logo empresa" />

        <h3>Iniciar sesiÃ³n</h3>

       <form id="loginForm">
  <input
    type="text"
    id="loginUsername"
    placeholder="Usuario"
    required
  />

  <input
    type="password"
    id="loginPassword"
    placeholder="ContraseÃ±a"
    required
  />

  <div class="modal-actions">
    <button type="submit">Entrar</button>
    <button type="button" onclick="cerrarLoginModal()">Cancelar</button>
  </div>
</form>


        <p>
          Â¿No tienes cuenta?
          <a href="#" onclick="mostrarRegistro(event)">Hazte cliente aquÃ­</a>
        </p>
      </div>

      <!-- REGISTRO -->
      <div class="auth-panel">
        <img class="empresaLogoAuth" alt="Logo empresa" />

        <h3>Registro</h3>

        <form id="registerForm">
          <input type="text" name="nombre" placeholder="Nombre" required />
          <input type="text" name="apellido" placeholder="Apellido" required />
          <input type="text" name="username" placeholder="Usuario" required />
          <input type="email" name="email" placeholder="Correo" required />
            <input type="password" name="password" placeholder="ContraseÃ±a" required />
          <input type="text" name="telefono" placeholder="TelÃ©fono" required />
          <input type="text" name="direccion" placeholder="DirecciÃ³n" required />
        

          <div class="modal-actions">
            <button type="submit">Registrarse</button>
            <button type="button" onclick="mostrarLogin()">Volver</button>
          </div>
        </form>
      </div>

    </div>
  </div>
</div>


<div id="misPedidosModal" class="modal">
  <div class="modal-content modal-pedidos">
    <h3>ğŸ§¾ Mis pedidos</h3>

    <div id="listaPedidos" class="lista-pedidos"></div>

    <div class="modal-actions">
      <button type="button" onclick="cerrarMisPedidos()">Cerrar</button>
    </div>
  </div>
</div>

<!-- MODAL misRESERVA -->

<div id="misReservasModal" class="modal">
  <div class="modal-content modal-pedidos">
    <h3>ğŸ“… Mis reservas</h3>

    <div id="listaReservas" class="lista-pedidos"></div>

    <div class="modal-actions">
      <button type="button" onclick="cerrarMisReservas()">Cerrar</button>
    </div>
  </div>
</div>



<!-- MODAL RESERVA -->
<div id="reservaModal" class="modalreserva">

  <div class="modalreserva-content">

    <span class="modalreserva-close" onclick="cerrarReservaModal()">Ã—</span>

    <h2>ğŸ“… Reservar mesa</h2>

    <form id="reservaForm" class="modalreserva-form">

      <!-- FECHA / HORA / DURACIÃ“N -->
      <div class="modalreserva-row">
        <div>
          <label>Fecha</label>
          <input type="date" id="fecha" required>
        </div>

        <div>
          <label>Entrada</label>
        <select id="hora_inicio" required></select>

        </div>

        <div>
          <label>DuraciÃ³n</label>
          <select id="duracion">
            <option value="1">1h</option>
            <option value="2">2h</option>
            <option value="3">3h</option>
          </select>
        </div>

  <div>
  <label>Salida</label>
  <input type="text" id="hora_fin" readonly>
</div>

      </div>

      <!-- MESAS / SILLAS -->
      <div class="modalreserva-row">
        <div>
          <label>Mesas</label>
          <input type="number" id="mesas" min="1" value="1">
        </div>

        <div>
          <label>Sillas</label>
          <input type="number" id="sillas" min="1" value="1">
        </div>
      </div>

      <!-- NOMBRE / TELÃ‰FONO -->
      <div class="modalreserva-row">
        <div>
          <label>Nombre</label>
          <input type="text" id="nombrereserva" name="nombrereserva" placeholder="Tu nombre" required>
        </div>

        <div>
          <label>TelÃ©fono</label>
          <input type="text" id="telefonoreserva" name="telefonoreserva" placeholder="WhatsApp" required>
        </div>
      </div>

      <!-- DISPONIBILIDAD -->
      <p id="disponibilidad" class="modalreserva-info"></p>

      <!-- BOTONES -->
      <div class="modalreserva-actions">
        <button type="submit" class="modalreserva-btn-primary">
          Confirmar reserva
        </button>

        <button type="button"
                onclick="cerrarReservaModal()"
                class="modalreserva-btn-secondary">
          Cancelar
        </button>
      </div>

    </form>
  </div>
</div>



<!-- MODAL PERFIL -->
<!-- MODAL PERFIL -->
<div id="perfilModal" class="perfil-modal">

  <div class="perfil-card">

    <span class="perfil-close" onclick="cerrarPerfil()">Ã—</span>

    <h2>ğŸ‘¤ Mi perfil</h2>

    <form id="perfilForm">

      <div class="perfil-grid">

        <!-- AVATAR -->
        <div class="perfil-avatar">
          <img id="perfilImagenPreview" src="/media/perfil/avatar.png">
          <label class="btn-upload">
            Cambiar foto
            <input type="file" id="perfilImagen" hidden>
          </label>
        </div>

        <!-- INFO -->
        <div class="perfil-info">
          <label>Usuario</label>
          <input id="perfil_username" readonly>

          <label>Email</label>
          <input id="perfil_email" readonly>

          <label>Nombre</label>
          <input id="perfil_nombre" required>

          <label>Apellido</label>
          <input id="perfil_apellido" required>

          <label>TelÃ©fono</label>
          <input id="perfil_telefono">

          <label>DirecciÃ³n</label>
          <input id="perfil_direccion">

          <label>Rol</label>
          <input id="perfil_rol" readonly>
        </div>

      </div>

      <div class="perfil-actions">
        <button type="button" class="btn-secondary" onclick="abrirPasswordModal()">
          ğŸ” Cambiar contraseÃ±a
        </button>

        <button type="submit" class="btn-primary">
          ğŸ’¾ Guardar cambios
        </button>
      </div>

    </form>
  </div>
</div>



<!-- MODAL CONTRASEÃ‘A -->
<div id="passwordModal" class="password-modal">
  <div class="password-box">
    <h3>ğŸ” Cambiar contraseÃ±a</h3>

    <form id="passwordForm">
      <label>ContraseÃ±a actual</label>
      <input type="password" id="pass_actual" required>

      <label>Nueva contraseÃ±a</label>
      <input type="password" id="pass_nueva" required>

      <label>Confirmar nueva contraseÃ±a</label>
      <input type="password" id="pass_confirmar" required>

      <div class="password-actions">
        <button type="submit" class="btn-guardar">Guardar</button>
        <button type="button" class="btn-cancelar" onclick="cerrarPasswordModal()">Cancelar</button>
      </div>
    </form>
  </div>
</div>

<div id="menuModal" class="menu-modal">
  <div class="menu-modal-content">

     <button class="modal-close" onclick="cerrarMenuModal()">Ã—</button>

    <h2>ğŸ½ï¸ Nuestro MenÃº</h2>

    <!-- ğŸ‘‰ AQUÃ SE CLONAN LOS PRODUCTOS -->
    <div class="productos" id="productosModal"></div>

  </div>
</div>



<!-- MODAL CONTACTO -->
<!-- MODAL CONTACTO -->
<div id="contactoModal" class="contacto-modal">

  <div class="contacto-card">

    <span class="contacto-close" onclick="cerrarContacto()">Ã—</span>

    <h2>ğŸ“© ContÃ¡ctanos</h2>
    <p class="contacto-intro">
      Â¿Tienes alguna pregunta o sugerencia? EscrÃ­benos y te responderemos pronto.
    </p>

    <!-- LAYOUT DOS COLUMNAS -->
    <div class="contacto-layout">

      <!-- COLUMNA IZQUIERDA -->
      <div class="contacto-form-col">

        <form id="contactoForm">

          <label>Nombre</label>
          <input type="text" id="contacto_nombre" required>

          <label>Email</label>
          <input type="email" id="contacto_email" required>

          <label>TelÃ©fono (opcional)</label>
          <input type="text" id="contacto_telefono">

          <label>Mensaje</label>
          <textarea id="contacto_mensaje" required></textarea>

          <div class="contacto-actions">
            <button type="submit" class="btn-enviar">Enviar</button>
           <button type="button" class="btn-cancelar" onclick="cerrarContacto()">Cancelar</button>

        
        
          </div>

        </form>

       <div class="contacto-info">
  <p><strong>ğŸ“ DirecciÃ³n:</strong> <span id="empresaDireccion"></span></p>
  <p><strong>ğŸ“ TelÃ©fono:</strong> <span id="empresaTelefono"></span></p>
  <p><strong>ğŸ“§ Email:</strong> <span id="empresaEmail"></span></p>
</div>


      </div>

      <!-- COLUMNA DERECHA -->
      <div class="contacto-map-col">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3785.4844118108836!2d-70.11325412620226!3d18.416302272353693!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8ea55f00400855eb%3A0xe00317666b9f241f!2sVagos%20Restaurante!5e0!3m2!1ses-419!2sdo!4v1770347441014!5m2!1ses-419!2sdo"
          style="border:0; width:100%; height:100%;"
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>

    </div>
  </div>
</div>

<button id="btnScrollTop" onclick="scrollToTop()">
  <svg viewBox="0 0 24 24">
    <path d="M6 14l6-6 6 6" 
          fill="none" 
          stroke="white" 
          stroke-width="2.5" 
          stroke-linecap="round" 
          stroke-linejoin="round"/>
  </svg>
</button>




<script src="{% static 'js/app.js' %}"></script>

{% block extra_js %}
<script src="{% static 'js/perfil.js' %}"></script>
<script src="{% static 'js/reservas.js' %}"></script>
<script src="{% static 'js/empresa.js' %}"></script>
<script src="{% static 'js/productos.js' %}"></script>
<script src="{% static 'js/caja.js' %}"></script>
<script src="{% static 'js/admin-panel.js' %}"></script>

{% endblock %}
</body>
</html>
